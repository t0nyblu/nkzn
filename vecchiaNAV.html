<script>
    function myFunction(page) {
        $("#PAGINADAVISUALIZZARE").load(page + ".html");
        history.pushState(null, null, '#' + page);
        updateActiveNavItem(page);
    }

    function updateActiveNavItem(page) {
        var navItems = document.getElementsByClassName("page-item");
        for (var i = 0; i < navItems.length; i++) {
            if (navItems[i].querySelector('a').getAttribute('href') === '#' + page) {
                navItems[i].classList.add('active');
            } else {
                navItems[i].classList.remove('active');
            }
        }
    }

    // Listener per gestire i cambiamenti dell'URL
    window.onpopstate = function(event) {
        var page = window.location.hash.substring(1); // Ottieni l'hash dall'URL
        myFunction(page); // Chiama la funzione myFunction con l'hash
    };

    // Esegui un controllo all'avvio per sincronizzare l'elemento attivo con l'URL corrente
    window.onload = function() {
        var page = window.location.hash.substring(1); // Ottieni l'hash dall'URL
        if (page) {
            updateActiveNavItem(page);
        }
    };
</script>


<div class="container">
    <nav class="navbar navbar-expand-md" aria-label="Page navigation example">
        <ul class="navbar-nav mr-auto w-100 pagination justify-content-center nav nav-pills nav-fill gap-2 p-1 small" id="navList">
<li class="page-item active"><a class="page-link navFont" onclick="myFunction('primipassi')" href="#primipassi">PRIMI PASSI</a></li>
<li class="page-item" aria-current="page"><a class="page-link navFont" onclick="myFunction('glossario')" href="#glossario">GLOSSARIO</a></li>
<li class="page-item" aria-current="page"><a class="page-link navFont" onclick="myFunction('domande')" href="#domandefrequenti">DOMANDE FREQUENTI</a></li>

            <li class="page-item disabled"><a class="page-link navFont" href="#falsimiti">FALSI MITI</a></li>
            <li class="page-item disabled"><a class="page-link navFont" href="#">GUIDE</a></li>
        </ul>
    </nav>
</div>

<script>
    // Add active class to the current button (highlight it)
    var header = document.getElementById("navList");
    var btns = header.getElementsByClassName("page-item");
    for (var i = 0; i < btns.length; i++) {
        btns[i].addEventListener("click", function() {
            var current = document.getElementsByClassName("active");
            current[0].className = current[0].className.replace(" active", "");
            this.className += " active";
        });
    }
</script>
